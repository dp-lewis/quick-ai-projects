---
import BaseLayout from '../layouts/BaseLayout.astro';

// Sample project data (in a real app, this would come from a database or CMS)
const projects = [
  {
    title: "Phaser AI Game Experiment",
    description: "A web-based game built with Phaser.js and AI assistance, demonstrating rapid game development with AI-generated code and logic.",
    thumbnail: "/placeholder-project.svg",
    demoUrl: "https://dp-lewis.github.io/phaser-with-ai-experiment/",
    githubUrl: "https://github.com/dp-lewis/phaser-with-ai-experiment",
    aiContribution: "90% AI-generated",
    technologies: ["Phaser.js", "JavaScript", "HTML5", "CSS3"],
    developmentTime: "3 hours"
  },
  {
    title: "Switcheroo",
    description: "An interactive web application demonstrating smooth UI transitions and state management with AI-assisted development.",
    thumbnail: "/placeholder-project.svg", 
    demoUrl: "https://dp-lewis.github.io/switcheroo/",
    githubUrl: "https://github.com/dp-lewis/switcheroo",
    aiContribution: "88% AI-generated",
    technologies: ["JavaScript", "CSS3", "HTML5", "DOM APIs"],
    developmentTime: "2.5 hours"
  },
  {
    title: "Spelling Game",
    description: "An educational spelling game with interactive features and scoring system, built rapidly with AI assistance.",
    thumbnail: "/placeholder-project.svg",
    demoUrl: "https://dp-lewis.github.io/spelling-game/",
    githubUrl: "https://github.com/dp-lewis/spelling-game",
    aiContribution: "92% AI-generated",
    technologies: ["JavaScript", "HTML5", "CSS3", "Web APIs"],
    developmentTime: "2 hours"
  },
  {
    title: "Package Comparison Tool",
    description: "A utility for comparing software packages with detailed analysis features and user-friendly interface.",
    thumbnail: "/placeholder-project.svg",
    demoUrl: "https://dp-lewis.github.io/package-comparison/",
    githubUrl: "https://github.com/dp-lewis/package-comparison",
    aiContribution: "85% AI-generated",
    technologies: ["JavaScript", "Node.js", "HTML5", "CSS3"],
    developmentTime: "4 hours"
  },
  {
    title: "AI Project Showcase",
    description: "This very website - a comprehensive showcase built with Astro to demonstrate AI-assisted rapid development capabilities.",
    thumbnail: "/placeholder-project.svg",
    demoUrl: null,
    githubUrl: "https://github.com/dp-lewis/quick-ai-projects",
    aiContribution: "93% AI-generated",
    technologies: ["Astro", "TypeScript", "CSS3", "HTML5"],
    developmentTime: "4 hours"
  }
];

const categories = [...new Set(projects.flatMap(p => p.technologies))].sort();
---

<BaseLayout 
  title="AI Projects - Rapid Development Showcase"
  description="Browse our collection of AI-assisted projects built in 2-4 hours each, showcasing rapid prototyping capabilities."
>
  <section class="page-header">
    <h1 class="page-title">AI-Assisted Projects</h1>
    <p class="page-description">
      A collection of projects built in 2-4 hours each, with approximately 90% of code generated using AI tools.
      Each project demonstrates rapid prototyping capabilities and modern development practices.
    </p>
  </section>

  <section class="filters">
    <div class="filter-group">
      <label for="tech-filter">Filter by Technology:</label>
      <select id="tech-filter" class="filter-select">
        <option value="">All Technologies</option>
        {categories.map(tech => (
          <option value={tech}>{tech}</option>
        ))}
      </select>
    </div>
    <div class="project-count">
      <span id="project-count">{projects.length}</span> projects
    </div>
  </section>

  <section class="projects-grid" id="projects-grid">
    {projects.map((project, index) => (
      <article class="project-card" data-technologies={project.technologies.join(',')}>
        <div class="project-thumbnail">
          <img 
            src={project.thumbnail} 
            alt={project.title}
            loading={index < 4 ? "eager" : "lazy"}
          />
          <div class="ai-badge">{project.aiContribution}</div>
          <div class="time-badge">{project.developmentTime}</div>
        </div>
        
        <div class="project-content">
          <h2 class="project-title">{project.title}</h2>
          <p class="project-description">{project.description}</p>
          
          <div class="project-technologies">
            {project.technologies.map(tech => (
              <span class="tech-tag">{tech}</span>
            ))}
          </div>
          
          <div class="project-links">
            {project.demoUrl && (
              <a href={project.demoUrl} class="project-link demo" target="_blank" rel="noopener">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"/>
                  <polygon points="10,8 16,12 10,16 10,8"/>
                </svg>
                Live Demo
              </a>
            )}
            <a href={project.githubUrl} class="project-link github" target="_blank" rel="noopener">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
              </svg>
              GitHub
            </a>
          </div>
        </div>
      </article>
    ))}
  </section>

  <section class="cta-section">
    <div class="cta-content">
      <h2>Interested in AI-Assisted Development?</h2>
      <p>Learn more about my approach to rapid prototyping and how AI tools can accelerate your development process.</p>
      <a href="/about" class="btn btn-primary">Learn More</a>
    </div>
  </section>
</BaseLayout>

<style>
  /* Page Header */
  .page-header {
    text-align: center;
    margin-bottom: 4rem;
  }

  .page-title {
    font-size: 3rem;
    font-weight: 800;
    color: #fbbf24;
    margin-bottom: 1rem;
  }

  .page-description {
    font-size: 1.25rem;
    color: rgba(255, 255, 255, 0.9);
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
  }

  /* Filters */
  .filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .filter-group {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .filter-group label {
    color: white;
    font-weight: 500;
  }

  .filter-select {
    padding: 0.5rem 1rem;
    border-radius: 6px;
    border: 1px solid rgba(255, 255, 255, 0.3);
    background: rgba(255, 255, 255, 0.1);
    color: white;
    backdrop-filter: blur(10px);
    min-width: 200px;
  }

  .filter-select option {
    background: #333;
    color: white;
  }

  .project-count {
    color: white;
    font-weight: 500;
    font-size: 1.1rem;
  }

  /* Projects Grid */
  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    gap: 2rem;
    margin-bottom: 4rem;
  }

  .project-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    overflow: hidden;
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
  }

  .project-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
  }

  .project-thumbnail {
    position: relative;
    height: 240px;
    overflow: hidden;
  }

  .project-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .project-card:hover .project-thumbnail img {
    transform: scale(1.05);
  }

  .ai-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(102, 126, 234, 0.9);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
  }

  .time-badge {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
  }

  .project-content {
    padding: 1.5rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .project-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: white;
    margin-bottom: 1rem;
  }

  .project-description {
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 1.5rem;
    line-height: 1.6;
    flex: 1;
  }

  .project-technologies {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
  }

  .tech-tag {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.875rem;
    font-weight: 500;
  }

  .project-links {
    display: flex;
    gap: 1rem;
    margin-top: auto;
  }

  .project-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    transition: all 0.3s ease;
    font-size: 0.875rem;
    flex: 1;
    justify-content: center;
  }

  .project-link.demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
  }

  .project-link.github {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  .project-link:hover {
    transform: translateY(-2px);
  }

  .project-link.demo:hover {
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
  }

  .project-link.github:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  /* CTA Section */
  .cta-section {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 3rem 2rem;
    text-align: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .cta-content h2 {
    font-size: 2rem;
    font-weight: 700;
    color: white;
    margin-bottom: 1rem;
  }

  .cta-content p {
    font-size: 1.125rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    padding: 1rem 2rem;
    font-weight: 600;
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.3s ease;
    font-size: 1rem;
  }

  .btn-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
  }

  /* Hidden class for filtering */
  .hidden {
    display: none !important;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .page-title {
      font-size: 2rem;
    }

    .projects-grid {
      grid-template-columns: 1fr;
    }

    .filters {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    .filter-select {
      min-width: auto;
      width: 100%;
    }

    .project-links {
      flex-direction: column;
    }
  }
</style>

<script>
  // Project filtering functionality
  document.addEventListener('DOMContentLoaded', () => {
    const filterSelect = document.getElementById('tech-filter') as HTMLSelectElement;
    const projectsGrid = document.getElementById('projects-grid');
    const projectCount = document.getElementById('project-count');
    const projectCards = document.querySelectorAll('.project-card');

    if (filterSelect && projectsGrid && projectCount) {
      filterSelect.addEventListener('change', () => {
        const selectedTech = filterSelect.value;
        let visibleCount = 0;

        projectCards.forEach(card => {
          const cardElement = card as HTMLElement;
          const technologies = cardElement.dataset.technologies || '';
          
          if (!selectedTech || technologies.includes(selectedTech)) {
            cardElement.classList.remove('hidden');
            visibleCount++;
          } else {
            cardElement.classList.add('hidden');
          }
        });

        projectCount.textContent = visibleCount.toString();
      });
    }
  });
</script>